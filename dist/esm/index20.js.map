{"version":3,"file":"index20.js","sources":["../../src/langchain/tools/account/get-account-balance-tool.ts"],"sourcesContent":["import { z } from 'zod';\nimport {\n  BaseHederaQueryTool,\n  BaseHederaQueryToolParams,\n} from '../common/base-hedera-query-tool';\n\nconst GetAccountBalanceZodSchema = z.object({\n  accountId: z\n    .string()\n    .describe('The account ID to get balance for (e.g., \"0.0.12345\")'),\n});\n\n/**\n * Tool for retrieving Hedera account HBAR balance.\n * This is a read-only operation that queries the mirror node.\n */\nexport class HederaGetAccountBalanceTool extends BaseHederaQueryTool<\n  typeof GetAccountBalanceZodSchema\n> {\n  name = 'hedera-get-account-balance';\n  description =\n    'Retrieves the HBAR balance for a Hedera account. Returns the balance in HBAR (not tinybars).';\n  specificInputSchema = GetAccountBalanceZodSchema;\n  namespace = 'account';\n\n  constructor(params: BaseHederaQueryToolParams) {\n    super(params);\n  }\n\n  protected async executeQuery(\n    args: z.infer<typeof GetAccountBalanceZodSchema>\n  ): Promise<unknown> {\n    this.logger.info(`Getting balance for account ID: ${args.accountId}`);\n\n    const balance = await this.hederaKit\n      .query()\n      .getAccountBalance(args.accountId);\n\n    if (balance === null) {\n      return {\n        success: false,\n        error: `Could not retrieve balance for account ${args.accountId}`,\n      };\n    }\n\n    return {\n      success: true,\n      accountId: args.accountId,\n      balance: balance,\n      unit: 'HBAR',\n    };\n  }\n}\n"],"names":[],"mappings":";;AAMA,MAAM,6BAA6B,EAAE,OAAO;AAAA,EAC1C,WAAW,EACR,OAAA,EACA,SAAS,uDAAuD;AACrE,CAAC;AAMM,MAAM,oCAAoC,oBAE/C;AAAA,EAOA,YAAY,QAAmC;AAC7C,UAAM,MAAM;AAPd,SAAA,OAAO;AACP,SAAA,cACE;AACF,SAAA,sBAAsB;AACtB,SAAA,YAAY;AAAA,EAAA;AAAA,EAMZ,MAAgB,aACd,MACkB;AAClB,SAAK,OAAO,KAAK,mCAAmC,KAAK,SAAS,EAAE;AAEpE,UAAM,UAAU,MAAM,KAAK,UACxB,QACA,kBAAkB,KAAK,SAAS;AAEnC,QAAI,YAAY,MAAM;AACpB,aAAO;AAAA,QACL,SAAS;AAAA,QACT,OAAO,0CAA0C,KAAK,SAAS;AAAA,MAAA;AAAA,IACjE;AAGF,WAAO;AAAA,MACL,SAAS;AAAA,MACT,WAAW,KAAK;AAAA,MAChB;AAAA,MACA,MAAM;AAAA,IAAA;AAAA,EACR;AAEJ;"}
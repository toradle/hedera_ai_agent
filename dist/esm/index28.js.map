{"version":3,"file":"index28.js","sources":["../../src/langchain/tools/hcs/create-topic-tool.ts"],"sourcesContent":["import { z } from 'zod';\nimport { CreateTopicParams } from '../../../types';\nimport {\n  BaseHederaTransactionTool,\n  BaseHederaTransactionToolParams,\n} from '../common/base-hedera-transaction-tool';\nimport { HcsBuilder } from '../../../builders/hcs/hcs-builder';\nimport { BaseServiceBuilder } from '../../../builders/base-service-builder';\n\n/**\n * Zod schema for the input structure of a single custom fee object.\n * This defines the structure the LLM should provide for each custom fee.\n */\nconst CustomFeeObjectSchema = z.object({\n  feeCollectorAccountId: z\n    .string()\n    .describe('The account ID to receive the custom fee.'),\n  denominatingTokenId: z\n    .string()\n    .optional()\n    .describe('The token ID for fee denomination (if not HBAR).'),\n  amount: z\n    .union([z.number(), z.string()])\n    .describe(\n      'The fee amount (smallest unit for tokens, or tinybars for HBAR).'\n    ),\n});\n\nconst CreateTopicZodSchemaCore = z.object({\n  memo: z.string().optional().describe('Optional. Memo for the topic.'),\n  adminKey: z\n    .string()\n    .optional()\n    .describe(\n      'Optional. Admin key for the topic (e.g., serialized public key string, or private key string for derivation by builder).'\n    ),\n  submitKey: z\n    .string()\n    .optional()\n    .describe(\n      'Optional. Submit key for the topic (e.g., serialized public key string, or private key string for derivation by builder).'\n    ),\n  autoRenewPeriod: z\n    .number()\n    .int()\n    .positive()\n    .optional()\n    .describe(\n      'Optional. Auto-renewal period in seconds (e.g., 7776000 for 90 days).'\n    ),\n  autoRenewAccountId: z\n    .string()\n    .optional()\n    .describe(\n      'Optional. Account ID for auto-renewal payments (e.g., \"0.0.xxxx\").'\n    ),\n  feeScheduleKey: z\n    .string()\n    .optional()\n    .describe(\n      'Optional. Fee schedule key for the topic (e.g., serialized public key string, or private key string for derivation by builder).'\n    ),\n  customFees: z\n    .array(CustomFeeObjectSchema)\n    .optional()\n    .describe(\n      'Optional. Array of custom fee objects to be applied to the topic.'\n    ),\n  exemptAccountIds: z\n    .array(z.string())\n    .optional()\n    .describe('Optional. Account IDs exempt from custom fees.'),\n});\n\nexport class HederaCreateTopicTool extends BaseHederaTransactionTool<\n  typeof CreateTopicZodSchemaCore\n> {\n  name = 'hedera-hcs-create-topic';\n  description =\n    'Creates a new Hedera Consensus Service (HCS) topic. Provide parameters as needed. The builder handles defaults and key parsing.';\n  specificInputSchema = CreateTopicZodSchemaCore;\n  namespace = 'hcs';\n\n  /**\n   *  Topic Creation cannot be scheduled yet.\n   */\n  protected override neverScheduleThisTool = true;\n\n  constructor(params: BaseHederaTransactionToolParams) {\n    super(params);\n  }\n\n  protected getServiceBuilder(): BaseServiceBuilder {\n    return this.hederaKit.hcs();\n  }\n\n  protected async callBuilderMethod(\n    builder: BaseServiceBuilder,\n    specificArgs: z.infer<typeof CreateTopicZodSchemaCore>\n  ): Promise<void> {\n    await (builder as HcsBuilder).createTopic(\n      specificArgs as unknown as CreateTopicParams\n    );\n  }\n}\n"],"names":[],"mappings":";;AAaA,MAAM,wBAAwB,EAAE,OAAO;AAAA,EACrC,uBAAuB,EACpB,SACA,SAAS,2CAA2C;AAAA,EACvD,qBAAqB,EAClB,OAAA,EACA,SAAA,EACA,SAAS,kDAAkD;AAAA,EAC9D,QAAQ,EACL,MAAM,CAAC,EAAE,OAAA,GAAU,EAAE,QAAQ,CAAC,EAC9B;AAAA,IACC;AAAA,EAAA;AAEN,CAAC;AAED,MAAM,2BAA2B,EAAE,OAAO;AAAA,EACxC,MAAM,EAAE,OAAA,EAAS,SAAA,EAAW,SAAS,+BAA+B;AAAA,EACpE,UAAU,EACP,SACA,WACA;AAAA,IACC;AAAA,EAAA;AAAA,EAEJ,WAAW,EACR,SACA,WACA;AAAA,IACC;AAAA,EAAA;AAAA,EAEJ,iBAAiB,EACd,SACA,MACA,SAAA,EACA,SAAA,EACA;AAAA,IACC;AAAA,EAAA;AAAA,EAEJ,oBAAoB,EACjB,SACA,WACA;AAAA,IACC;AAAA,EAAA;AAAA,EAEJ,gBAAgB,EACb,SACA,WACA;AAAA,IACC;AAAA,EAAA;AAAA,EAEJ,YAAY,EACT,MAAM,qBAAqB,EAC3B,WACA;AAAA,IACC;AAAA,EAAA;AAAA,EAEJ,kBAAkB,EACf,MAAM,EAAE,OAAA,CAAQ,EAChB,WACA,SAAS,gDAAgD;AAC9D,CAAC;AAEM,MAAM,8BAA8B,0BAEzC;AAAA,EAYA,YAAY,QAAyC;AACnD,UAAM,MAAM;AAZd,SAAA,OAAO;AACP,SAAA,cACE;AACF,SAAA,sBAAsB;AACtB,SAAA,YAAY;AAKZ,SAAmB,wBAAwB;AAAA,EAAA;AAAA,EAMjC,oBAAwC;AAChD,WAAO,KAAK,UAAU,IAAA;AAAA,EAAI;AAAA,EAG5B,MAAgB,kBACd,SACA,cACe;AACf,UAAO,QAAuB;AAAA,MAC5B;AAAA,IAAA;AAAA,EACF;AAEJ;"}